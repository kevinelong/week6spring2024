<head>
    <script src="./activities.js"></script>
</head>
<body style="background: khaki;">
    <nav id="nav"></nav>
    <table id="content"></table>
</body>
<script>
    function option(text, target, value) {
        const o = document.createElement("option");
        o.innerText = text;
        o.value = value !== undefined ? value : text;
        target.appendChild(o);
    }

    categories.unshift("Select one...") //insert at beginning

    content.innerHTML = "?";
    const s = document.createElement("select");
    s.size = categories.length;
    // option("Select one...", s, "")
    categories.forEach(c => option(c, s))
    nav.appendChild(s);

    s.addEventListener("click", 
        () => content.innerHTML = activities.filter(
            a => a.category == categories[s.selectedIndex]
        ).map( 
            a => `<tr>
                <td>${a.id}</td>
                <td>${a.name}</td>
                <td>${a.price}</td>
                </tr>`
        ).join("")
    );
/*
    function activityRow(a){
        return  `<tr>
                <td>${a.id}</td>
                <td>${a.name}</td>
                <td>${a.price}</td>
                </tr>`
    }
    function isMatch(a){
        return a.category == categories[s.selectedIndex];
    }
    function getRows(){
        content.innerHTML = activities.filter(isMatch).map(activityRow).join("");
    }
    s.addEventListener("click", getRows);
    */


</script>